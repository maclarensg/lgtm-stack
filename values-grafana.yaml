# Grafana - Official Chart v10.5.15
# Visualization platform

# Admin credentials
adminUser: admin
# adminPassword: auto-generated by Helm (retrieve via kubectl get secret)

# Persistence disabled for quick setup
persistence:
  enabled: false

# Datasources
datasources:
  datasources.yaml:
    apiVersion: 1
    datasources:
      - name: Mimir
        type: prometheus
        url: http://mimir-gateway.observability.svc:80/prometheus
        isDefault: true
        editable: true
        jsonData:
          httpMethod: POST
          prometheusType: Mimir

      - name: Loki
        type: loki
        url: http://loki-gateway.observability.svc.cluster.local/
        editable: true
        jsonData:
          maxLines: 1000

      - name: Tempo
        type: tempo
        url: http://tempo.observability.svc:3200
        editable: true
        jsonData:
          tracesToLogs:
            datasourceUid: loki
            tags: ["pod", "namespace"]
          serviceMap:
            datasourceUid: mimir

# Ingress disabled - use port-forward on Windows/WSL2
ingress:
  enabled: false

# Service
service:
  type: ClusterIP
  port: 80
  targetPort: 3000

# Resources
resources:
  requests:
    cpu: 100m
    memory: 256Mi
  limits:
    cpu: 500m
    memory: 512Mi
